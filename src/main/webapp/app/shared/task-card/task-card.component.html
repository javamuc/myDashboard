<div
  class="task-card"
  (click)="openTask($event)"
  (keydown.enter)="openTask($event)"
  tabindex="0"
  role="button"
  [attr.aria-label]="'Task: ' + task.title"
>
  <div class="task-header">
    <h3>
      {{ task.title }}
      @if (task.description) {
        <i class="fas fa-align-left task-description-icon"></i>
      }
    </h3>

    <div class="task-priority priority-{{ task.priority }}">P{{ task.priority }}</div>
  </div>

  @if (getHashtags().length > 0) {
    <div class="task-tags">
      @for (tag of getHashtags(); track tag) {
        <span class="tag" [style.background-color]="getTagColor(tag)" [style.color]="getTagTextColor(tag)">
          {{ tag }}
        </span>
      }
    </div>
  }

  <div class="task-details">
    @if (task.assignee) {
      <div class="task-assignee">
        <fa-icon icon="user"></fa-icon>
        {{ task.assignee }}
      </div>
    }
    @if (task.dueDate) {
      <div class="task-due-date">
        <fa-icon icon="calendar"></fa-icon>
        {{ task.dueDate | date: 'shortDate' }}
      </div>
    }
    <div class="task-last-modified-date">
      <fa-icon icon="clock"></fa-icon>
      {{ task.lastModifiedDate | date: 'short' }}
    </div>
  </div>
</div>
