<div class="day-schedule p-3">
  <!-- Schedule Type Selection -->
  <div class="schedule-type mb-4">
    <div class="btn-group" role="group">
      <button
        type="button"
        class="btn"
        [class.btn-primary]="schedule.scheduleType === 'ANYTIME'"
        [class.btn-outline-primary]="schedule.scheduleType !== 'ANYTIME'"
        (click)="setScheduleType('ANYTIME')"
      >
        Anytime
      </button>
      <button
        type="button"
        class="btn"
        [class.btn-primary]="schedule.scheduleType === 'SPECIFIC'"
        [class.btn-outline-primary]="schedule.scheduleType !== 'SPECIFIC'"
        (click)="setScheduleType('SPECIFIC')"
      >
        Specific Time
      </button>
    </div>
  </div>

  <!-- Anytime Schedule -->
  <div *ngIf="schedule.scheduleType === 'ANYTIME'" class="anytime-schedule">
    <div class="form-group">
      <label for="repetitions" class="form-label">Number of times per day</label>
      <input
        type="number"
        class="form-control"
        id="repetitions"
        [value]="schedule.repetitions"
        (change)="updateRepetitions($any($event.target).value)"
        min="1"
      />
    </div>
  </div>

  <!-- Specific Schedule -->
  <div *ngIf="schedule.scheduleType === 'SPECIFIC'" class="specific-schedule">
    <div class="time-preferences mb-4">
      <div class="time-preference-grid">
        <div *ngFor="let preference of timePreferences" class="time-preference">
          <button
            type="button"
            class="btn"
            [class.btn-primary]="schedule.timePreference === preference"
            [class.btn-outline-primary]="schedule.timePreference !== preference"
            (click)="setTimePreference(preference)"
          >
            {{ formatTimePreference(preference) }}
          </button>
        </div>
      </div>
    </div>

    <!-- Specific Times -->
    <div *ngIf="schedule.timePreference === 'SPECIFIC_TIMES'" class="specific-times">
      <jhi-time-selector [selectedTimes]="schedule.specificTimes" (selectedTimesChange)="updateSpecificTimes($event)"></jhi-time-selector>
    </div>
  </div>
</div>
