<div class="day-schedule-container">
  <!-- Schedule Type Selection -->
  <div class="schedule-type mb-4">
    <div class="btn-group" role="group">
      <button
        type="button"
        class="btn"
        [class.btn-primary]="schedule.scheduleType === 'ANYTIME'"
        [class.btn-outline-primary]="schedule.scheduleType !== 'ANYTIME'"
        (click)="setScheduleType('ANYTIME')"
      >
        Anytime
      </button>
      <button
        type="button"
        class="btn"
        [class.btn-primary]="schedule.scheduleType === 'SPECIFIC'"
        [class.btn-outline-primary]="schedule.scheduleType !== 'SPECIFIC'"
        (click)="setScheduleType('SPECIFIC')"
      >
        Specific Times
      </button>
    </div>
  </div>

  <!-- Anytime Schedule -->
  <div *ngIf="schedule.scheduleType === 'ANYTIME'" class="anytime-schedule">
    <div class="form-group">
      <label for="repetitions">Number of repetitions per day</label>
      <input
        type="number"
        class="form-control"
        id="repetitions"
        [value]="schedule.repetitions"
        (change)="updateRepetitions($any($event.target).value)"
        min="1"
      />
    </div>
  </div>

  <!-- Specific Schedule -->
  <div *ngIf="schedule.scheduleType === 'SPECIFIC'" class="specific-schedule">
    <div class="time-preferences mb-4">
      <div class="time-preference-grid">
        <div *ngFor="let preference of timePreferences" class="time-preference">
          <button
            type="button"
            class="btn"
            [class.btn-primary]="schedule.timePreference === preference"
            [class.btn-outline-primary]="schedule.timePreference !== preference"
            (click)="setTimePreference(preference)"
          >
            {{ formatTimePreference(preference) }}
          </button>
        </div>
      </div>
    </div>

    <!-- Specific Times -->
    <div *ngIf="schedule.timePreference === 'SPECIFIC_TIMES'" class="specific-times">
      <div *ngFor="let time of schedule.specificTimes; let i = index" class="specific-time mb-2">
        <input type="time" class="form-control" [value]="formatTime(time)" (change)="updateSpecificTime(i, $any($event.target).value)" />
        <button class="btn btn-outline-danger ms-2" (click)="removeSpecificTime(i)">
          <fa-icon icon="trash"></fa-icon>
        </button>
      </div>
      <button class="btn btn-outline-primary" (click)="addSpecificTime()">
        <fa-icon icon="plus"></fa-icon>
        Add Time
      </button>
    </div>
  </div>
</div>
